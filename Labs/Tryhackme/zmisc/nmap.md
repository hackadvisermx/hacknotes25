# namp
- Cuando se trata de hackear, el conocimiento es poder. Cuanto más conocimiento tenga sobre un sistema o red de destino, más opciones tendrá disponibles. Esto hace que sea imperativo que se lleve a cabo una enumeración adecuada antes de realizar cualquier intento de explotación.
- Digamos que nos han dado una IP (o varias direcciones IP) para realizar una auditoría de seguridad. Antes de hacer cualquier otra cosa, necesitamos tener una idea del “paisaje” que estamos atacando. 
- Lo que esto significa es que necesitamos establecer qué servicios se ejecutan en los objetivos. Por ejemplo, tal vez uno de ellos esté ejecutando un servidor web y otro esté actuando como un controlador de dominio de Active Directory de Windows. 
- La primera etapa para establecer este "mapa" del paisaje es algo llamado **escaneo de puertos**. Cuando una computadora ejecuta un servicio de red, abre una construcción de red llamada "puerto" para recibir la conexión. 
- Los puertos son necesarios para realizar múltiples solicitudes de red o tener múltiples servicios disponibles. Por ejemplo, cuando carga varias páginas web a la vez en un navegador web, el programa debe tener alguna forma de determinar qué pestaña está cargando qué página web. Esto se hace estableciendo conexiones a los servidores web remotos usando diferentes puertos en su máquina local. 
- Del mismo modo, si desea que un servidor pueda ejecutar más de un servicio (por ejemplo, tal vez desee que su servidor web ejecute las versiones HTTP y HTTPS del sitio), entonces necesita alguna forma de dirigir el tráfico al servicio apropiado. . Una vez más, los puertos son la solución a esto. 
- Las conexiones de red se realizan entre dos puertos: un puerto abierto que escucha en el servidor y un puerto seleccionado al azar en su propia computadora. Por ejemplo, cuando se conecta a una página web, su computadora puede abrir el puerto 49534 para conectarse al puerto 443 del servidor.

IMAGEN

- Como en el ejemplo anterior, el diagrama muestra lo que sucede cuando te conectas a varios sitios web al mismo tiempo. Su computadora abre un puerto diferente con un número alto (al azar), que utiliza para todas sus comunicaciones con el servidor remoto.

- Cada computadora tiene un total de 65535 puertos disponibles; sin embargo, muchos de estos están registrados como puertos estándar. Por ejemplo, casi siempre se puede encontrar un servicio web HTTP en el puerto 80 del servidor. Se puede encontrar un servicio web HTTPS en el puerto 443. Windows NETBIOS se puede encontrar en el puerto 139 y SMB se puede encontrar en el puerto 445. Es importante tener en cuenta; sin embargo, especialmente en una configuración CTF, no es raro que incluso estos puertos estándar se alteren, lo que hace que sea aún más imperativo que realicemos la enumeración adecuada en el objetivo.

- Si no sabemos cuál de estos puertos tiene abierto un servidor, entonces no tenemos esperanza de atacar con éxito el objetivo; por lo tanto, es crucial que comencemos cualquier ataque con un escaneo de puertos. Esto se puede lograr de varias maneras, generalmente usando una herramienta llamada nmap, que es el enfoque de esta sala. Nmap se puede usar para realizar muchos tipos diferentes de escaneo de puertos; los más comunes se presentarán en próximas tareas; sin embargo, la teoría básica es esta: nmap se conectará a cada puerto del objetivo por turno. Dependiendo de cómo responda el puerto, se puede determinar si está abierto, cerrado o filtrado (generalmente por un firewall). Una vez que sabemos qué puertos están abiertos, podemos enumerar qué servicios se están ejecutando en cada puerto, ya sea manualmente o, más comúnmente, usando nmap.

- Entonces, ¿por qué nmap? La respuesta corta es que actualmente es el estándar de la industria por una razón: ninguna otra herramienta de escaneo de puertos se acerca a igualar su funcionalidad (aunque algunos recién llegados ahora la igualan en velocidad). Es una herramienta extremadamente poderosa, aún más poderosa gracias a su motor de secuencias de comandos que se puede usar para buscar vulnerabilidades y, en algunos casos, ¡incluso realizar la explotación directamente! Una vez más, esto se cubrirá más en las próximas tareas.

- Por ahora, es importante que comprenda: qué es el escaneo de puertos; por qué es necesario; y que nmap es la herramienta preferida para cualquier tipo de enumeración inicial.